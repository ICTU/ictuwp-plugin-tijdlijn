/*
// * ICTU / WP timeline. 
// * 
// * Plugin Name:         ICTU / WP timeline
// * Plugin URI:          https://github.com/ICTU/digitale-overheid-wordpress-plugin-timelineplugin/
// * Description:         Insert usable and accessible timelines in your post or page 
// * Version:             1.1.0
// * Version description: CSS-bestand naar LESS omgezet. Kleuren aangepast en functionaliteit verbeterd.
// * Author:              Paul van Buuren
// * Author URI:          https://wbvb.nl
 */
jQuery.fn.timeline=function(){return this.each(function(){function e(){l.addClass("initialized"),i()}function i(){jQuery(".timelineMajor").each(function(e,i){jQuery(this).hasClass("open")&&jQuery(this).find(".majorEvent").attr({"aria-hidden":!1,"aria-expanded":!0})}),jQuery(".timelineMinor").each(function(){jQuery(this).hasClass("open")&&jQuery(this).find(".timelineEvent").attr({"aria-hidden":!1,"aria-expanded":!0})}),jQuery(".timelineEvent > table").wrap('<div class="scrollcontainer" />'),n()}function n(){jQuery(".timelineToggle").hasClass("open")?jQuery(".timelineToggle").find("a").html(d):jQuery(".timelineToggle").find("a").html(f),l.find(".timelineToggle a").on("click",function(e){e.preventDefault();var i=l.find(".timelineToggle"),n=l.find(".timelineMajor"),a=jQuery("html,body"),t=jQuery(this).parent().parent(".timeline-main");navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)?window.scrollTo(0,t.offset().top-a.offset().top):a.animate({scrollTop:t.offset().top-a.offset().top,scrollLeft:0},300),i.hasClass("open")?(n.each(function(){o(jQuery(this))}),i.find("a").html(f),i.removeClass("open")):(n.each(function(){r(jQuery(this),!1)}),i.find("a").html(d),i.addClass("open"))}),l.find(".timelineMajorMarker a").on("click",function(e){e.preventDefault();var i=jQuery(this).parents(".timelineMajor");i.hasClass("open")?o(i):r(i,!0)}),l.find(".timelineEventHead a").on("click",function(e){e.preventDefault();var i=jQuery(this).parents(".timelineMinor");i.hasClass("open")?t(i):a(i)})}function r(e,i){$minors=e.find(".timelineMinor"),e.addClass("open");var n=e.find(".majorEvent");n.attr({"aria-hidden":!1,"aria-expanded":!0}),i&&n.focus()}function o(e){var i;$minors=e.find(".timelineMinor"),$minors.each(function(){t(jQuery(this))}),e.find(".majorEvent").attr({"aria-hidden":!0,"aria-expanded":!1}),e.removeClass("open")}function a(e){e.addClass("open");var i=e.find(".timelineEvent");i.attr({"aria-hidden":!1,"aria-expanded":!0}),i.focus()}function t(e){e.removeClass("open"),e.find(".timelineEvent").attr({"aria-hidden":!0,"aria-expanded":!1}),jQuery("video,audio").trigger("pause")}var l=jQuery(this),s=jQuery(this).data("expand"),d=timeline.toggle_close,f=timeline.toggle_open,u=jQuery(this).data("collapse");e()})},jQuery(".timeline-main").timeline();